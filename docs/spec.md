电商图片批量扩展 Web App 需求文档
1. 项目概述
1.1 项目目标
本项目旨在开发一款基于阿里云通义千问（Qwen）图像编辑模型的 Web 应用，专注于解决电商卖家和营销人员在商品图片素材制作上的痛点。通过利用 AI 的图像扩展和场景生成能力，实现对商品主图的批量化、自动化、创意化处理，从而大幅降低图片制作成本，提升营销素材的生产效率和多样性。

1.2 核心功能
智能背景扩展：将现有的商品图（尤其是白底图）智能地扩展出更完整、更自然的背景。

创意场景生成：根据文本描述，将商品无缝融入到全新的、富有创意的虚拟场景中。

批量处理能力：支持一次性上传多张商品图，并应用相同的指令进行批量化处理，实现高效生产。

1.3 目标用户
电商平台卖家（淘宝、京东、拼多多、Amazon 等）

社交电商运营人员

广告投手和营销经理

平面设计师

2. 功能需求 (Functional Requirements)
2.1 用户工作流
2.2 核心功能模块
模块一：项目管理
创建项目：用户可以为不同商品或营销活动创建独立的项目，方便对图片素材进行分组管理。

项目列表：以卡片或列表形式展示所有项目，显示项目名称、创建时间、图片数量等信息。

模块二：图片上传与管理
批量上传：

支持拖拽上传和点击选择文件两种方式。

支持一次性上传多张图片（例如，最多 20 张）。

支持 JPG, PNG 格式，并对透明背景的 PNG 图片做优化处理。

图片预览：上传后，在工作区内以缩略图形式展示所有待处理的图片。

模块三：AI 生成配置面板
这是应用的核心交互区域，用户在这里定义 AI 的生成效果。

1. 选择模式 (Mode Selection)

智能扩展 (Smart Extend)：此模式下，AI 会自动分析图片边缘，并自然地向外扩展背景。适用于补充不完整的商品图。

场景生成 (Scene Generation)：此模式下，AI 会根据用户的文本描述，将商品放置到一个全新的场景中。

2. 描述指令 (Prompt Input)

核心提示词 (Prompt)：一个简洁明了的文本输入框。用户在此描述期望的背景或场景。

示例1（场景生成）：“商品放置在简约的木质桌面上，旁边有绿植和一杯冒着热气的咖啡，光线明亮柔和。”

示例2（智能扩展）：“现代简约风格的家居背景，白色墙壁。”

反向提示词 (Negative Prompt)：一个辅助输入框。用户描述不希望在图片中出现的元素。

示例：“不要出现人物，不要杂乱的背景，低质量”。

3. 参数设置 (Parameter Controls)

图片尺寸 (Aspect Ratio)：提供电商平台常用的尺寸预设，如 1:1 (主图), 3:4 (详情页), 16:9 (横幅广告)。

生成数量 (Number of Images)：为每张上传的图片生成 1-4 张不同的结果供选择。

风格参考 (Style Reference - 高级功能)：允许用户上传一张“风格参考图”，AI 将模仿该图片的色调、光影和整体氛围进行生成。

4. 操作按钮

“开始生成”按钮：点击后，系统将任务提交到后台处理队列。

模块四：结果展示与导出
实时进度反馈：对于批量任务，界面需要清晰地展示每张图片的生成状态（排队中、生成中、已完成、失败）。

结果对比视图：

生成完成后，以“原图 vs. 生成结果”的左右对比形式展示。

如果一次生成多张，结果图可以左右滑动或以网格形式展示。

图片操作：

预览：点击可放大查看高清大图。

收藏/标记：为满意的图片添加“星标”或“爱心”，方便后续筛选。

下载：

可以单张下载。

提供**“一键下载所有已收藏图片”**的功能，打包为 .zip 文件。

重新生成：基于同一张原图，使用相同或修改后的指令再次生成。

3. 非功能需求 (Non-Functional Requirements)
3.1 性能
响应速度：前端界面交互流畅，点击、拖拽等操作无明显延迟。

处理效率：后端需建立任务队列机制，有效处理并发的图片生成请求。单张图片的平均生成时间应控制在 30 秒以内。

并发能力：系统应能支持至少 50 个用户同时在线进行图片生成操作。

3.2 用户体验 (UX)
界面简洁直观：设计风格现代化，避免不必要的视觉干扰，让用户专注于核心操作。

引导清晰：对于首次使用的用户，提供简单的操作引导或提示（Tooltips）。在关键输入框（如提示词）提供优秀的示例（Placeholders）。

错误处理：当 API 调用失败或生成结果不理想时，向用户提供清晰、友好的错误提示和解决方案建议。

3.3 技术栈建议
前端：React / Vue.js (现代前端框架，保证交互体验)

后端：Node.js (Express) / Python (Flask) (处理业务逻辑和 API 调用)

API 集成：调用阿里云通义千问图像编辑 API。

任务队列：RabbitMQ / Celery (处理异步的批量任务)

图片存储：阿里云 OSS / AWS S3 (存储用户上传的源文件和 AI 生成的结果图)

数据库：PostgreSQL / MongoDB (存储项目信息、用户信息、任务状态等)

实现说明：当前代码基于 Vue 3 + Vite，样式使用 UnoCSS（presetWind + directives/variant-group），部分组件计划集成 shadcn‑vue。

4. 商业模式 (Monetization)
免费试用套餐：新用户注册后可获得一定数量的免费生成额度（例如 20 张），图片可能带有轻微水印。

按量付费套餐：用户购买图片生成点数包，每生成一张图片消耗一个点数，适合低频用户。

订阅套餐：

个人版：每月固定费用，包含数百张的生成额度，无水印，高清下载。

团队版/企业版：更高的生成额度，支持多用户协作，提供 API 接口，以及优先技术支持。

5. 未来迭代计划 (Future Roadmap)
智能抠图集成：在上传图片后，提供一键智能抠图功能，方便后续的场景生成。

模板市场：创建“提示词模板市场”，用户可以一键使用由官方或社区创建的优秀场景模板。

商品文案生成：集成大语言模型，根据商品图和核心卖点，自动生成营销文案。

视频素材生成：探索将静态商品图转化为动态短视频素材的可能性。
